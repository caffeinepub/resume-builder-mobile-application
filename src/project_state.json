{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 35,
  "summary": "Internet Computer (Motoko + React) resume builder app with Internet Identity authentication, user profiles, offline-first resume editing, and backend storage/sync (including blob storage for assets).",
  "existing_features": [
    {
      "id": "IF-1",
      "title": "Internet Identity authentication & session handling",
      "synonyms": [
        "II login",
        "Auth controls"
      ],
      "description": "Frontend integrates Internet Identity login/logout and actor creation; backend authorization layer enforces access control.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-2",
      "title": "User profile setup and current-user profile retrieval",
      "synonyms": [
        "Profile setup dialog",
        "User profile"
      ],
      "description": "UI flow to create/update a user profile and hooks to fetch the current user's profile data.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-3",
      "title": "Resumes dashboard (list/create/open)",
      "synonyms": [
        "Resumes list",
        "Dashboard"
      ],
      "description": "Dedicated dashboard page for managing resumes, including loading existing resumes and initiating resume creation/editing.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-4",
      "title": "Resume editor page",
      "synonyms": [
        "Editor"
      ],
      "description": "Resume editing UI page with supporting types and hooks for resume data manipulation.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-5",
      "title": "Offline-first local resume storage with sync queue and status indicator",
      "synonyms": [
        "Local store",
        "Sync status badge",
        "Offline sync"
      ],
      "description": "Local persistence for resumes and a sync queue for reconciling changes when online, with UI status indicator and online-status detection.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-6",
      "title": "Backend storage modules (core storage + blob storage)",
      "synonyms": [
        "Storage canister",
        "Blob storage"
      ],
      "description": "Motoko backend includes storage primitives and blob storage modules for persisting data/assets, integrated into main canister.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-7",
      "title": "Privacy Policy page",
      "synonyms": [
        "Privacy policy"
      ],
      "description": "Static Privacy Policy route/page included in the frontend.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-8",
      "title": "Build/deploy template for ICP project (frontend + backend)",
      "synonyms": [
        "Build template",
        "Docker/build scripts"
      ],
      "description": "Template includes Dockerfile, deploy scripts, canister configs, workspace/package management, and frontend scaffolding (shadcn-ui).",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-9",
      "title": "Resume preview, templates, formatting controls, and print/PDF export",
      "synonyms": [
        "Resume preview",
        "Resume templates",
        "Print view",
        "PDF export"
      ],
      "description": "Adds a resume preview/rendering pipeline with selectable templates, a formatting panel, a dedicated print view, and client-side PDF/print export utilities.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-10",
      "title": "PWA installability (web manifest, service worker, and app icons)",
      "synonyms": [
        "Progressive Web App",
        "PWA manifest",
        "Service worker"
      ],
      "description": "Adds PWA support via a web app manifest, service worker registration/asset, and required app icons (including Apple touch icon) to enable installability and improved offline/browser integration.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "feature-add-an-in-app-install-popup-that-is-shown-to-android-users-when-the-pwa-is-installable-native-beforeinstallprompt-is-available-and-the-app-is-not-already-installed-offering-a-direct-install-action-that-triggers-the-browser-install-prompt",
      "title": "Add an in-app install popup that is shown to Android users when the PWA is installable (native beforeinstallprompt is available) and the app is not already installed, offering a direct \"Install\" action that triggers the browser install prompt.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-dismissal-and-frequency-controls-for-the-android-install-popup-so-users-are-not-repeatedly-interrupted",
      "title": "Implement dismissal and frequency controls for the Android install popup so users are not repeatedly interrupted.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-limit-the-android-install-popup-to-android-devices-browsers-and-ensure-it-does-not-appear-on-ios-or-desktop",
      "title": "Limit the Android install popup to Android devices/browsers and ensure it does not appear on iOS or desktop.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add an in-app Android install prompt/popup to trigger or guide PWA installation when eligible.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "architectural_notes": [
    "Frontend: React + Vite + Tailwind with shadcn-ui component library scaffolded in build-template.",
    "Authentication: Internet Identity used on frontend; backend uses authorization/access-control modules (mixin-based) to gate methods.",
    "Offline-first approach: resumes stored locally and synced via a queue when connectivity returns; UI shows sync status.",
    "Backend: Motoko canister composes core storage and blob storage modules; main canister wires modules together.",
    "Authorization layer updated to component:authorization:v4.0.0 (mixin-based access control refinements).",
    "Blob storage module updated to component:blob-storage:v4.0.0 and re-wired through backend main canister.",
    "Build template standardized as component:build-template-react:v1.0.0 with expanded shadcn-ui component set and custom ESLint rules for ICP/II constraints.",
    "Build/deploy tooling refreshed (Dockerfile, icp.yaml, deploy.sh, image resize/prune scripts) under core infrastructure component:core-infrastructure:v1.0.2.",
    "Resume rendering includes template-based preview + dedicated print view with client-side PDF/print export utility.",
    "PWA support added: web manifest + service worker (sw.js) + generated app icons (PWA + Apple touch) for installability and offline-friendly shell behavior."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "generatedImages": [
    {
      "filename": "frontend/public/assets/generated/apple-touch-icon.dim_180x180.png",
      "description": "Generated Apple touch icon for PWA/install",
      "targetWidth": 180,
      "targetHeight": 180
    },
    {
      "filename": "frontend/public/assets/generated/pwa-icon-192.dim_192x192.png",
      "description": "Generated PWA icon (192x192)",
      "targetWidth": 192,
      "targetHeight": 192
    },
    {
      "filename": "frontend/public/assets/generated/pwa-icon-512.dim_512x512.png",
      "description": "Generated PWA icon (512x512)",
      "targetWidth": 512,
      "targetHeight": 512
    }
  ],
  "projectName": "Add Android PWA install popup",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}